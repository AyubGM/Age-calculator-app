<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- displays site properly based on user's device -->

  <link rel="icon" type="image/png" sizes="32x32"
    href="./age-calculator-app-main/age-calculator-app-main/assets/images/favicon-32x32.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,700;1,400;1,800&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="modern-normalize.css">
  <link rel="stylesheet" href="main.css">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="utils.css">
  <title>Frontend Mentor | Age calculator app</title>


</head>

<body>
  <div class="div-box ">

    <form>

      <div class="input">

        <div class="input-box">
          <label class="label" for="">Day</label>
          <input type="number" placeholder="DD" id="day">
          <span class="error1"> </span>
        </div>

        <div class="input-box">
          <label class="label" for="">Month</label>
          <input type="number" placeholder="MM" id="month">
          <span class="error1"> </span>
        </div>


        <div class="input-box">
          <label class="label" for="">Year</label>
          <input type="number" placeholder="YYYY" id="year">
          <span class="error1"></span>
        </div>

      </div>



      <div class="icon">
        <hr>
        <button type="submit"> <svg xmlns="http://www.w3.org/2000/svg" width="46" height="44" viewBox="0 0 46 44">
            <g fill="none" stroke="#FFF" stroke-width="2">
              <path d="M1 22.019C8.333 21.686 23 25.616 23 44M23 44V0M45 22.019C37.667 21.686 23 25.616 23 44" />
            </g>
          </svg></button>
      </div>


    </form>

    <div class="output">
      <h1> <span id="YY" class="dash">--</span> <span class="date">years</span> </h1>
      <h1><span id="MM" class="dash">--</span> <span class="date">months</span> </h1>
      <h1><span id="DD" class="dash">--</span> <span class="date">days</span> </h1>
    </div>



  </div>





  <div class="attribution">
    Challenge by <a href="https://www.frontendmentor.io?ref=challenge" target="_blank">Frontend Mentor</a>.
    Coded by <a href="#">AyubGM</a>.
  </div>

  <script >

    const dayIn = document.querySelector("#day");
    const monthIn = document.querySelector("#month");
    const yearIn = document.querySelector("#year");
    const label = document.querySelectorAll(".label");


    const dayOt = document.querySelector("#DD");
    const monthOt = document.querySelector("#MM");
    const yearOt = document.querySelector("#YY");


    const date = new Date();
    let Rday = date.getDate();
    let Rmonth = 1 + date.getMonth();
    let Ryear = date.getFullYear();

    const months = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];

    const form = document.querySelector("form");

   

    function validate() {

const input = document.querySelectorAll("input");

let isValid = true;

input.forEach(i => {

  const parent = i.parentElement;

  if (!i.value) {

    label.forEach(j => {j.style.color = "#ff5757";} ) 

    i.style.borderColor = "#ff5757";
    parent.querySelector(".error1").innerHTML = "this field is required";
    isValid = false;

  } else if (monthIn.value > 12 || monthIn.value < 1) {
    

    monthIn.style.borderColor = "#ff5757";
    monthIn.parentElement.querySelector(".error1").innerHTML = "must be valid month";
    isValid = false;

  } else if (dayIn.value > 31) {
  
    dayIn.style.borderColor = "#ff5757";
    dayIn.parentElement.querySelector(".error1").innerHTML ="must be valid day";
    isValid = false;
  } else if (yearIn.value > Ryear) {
  
  yearIn.style.borderColor = "#ff5757";
  yearIn.parentElement.querySelector(".error1").innerHTML ="must be in the past";
  isValid = false;}
  
  else {

    label.forEach(j => {j.style.color = "#716f6f";} ) 

    i.style.borderColor = "#dbdbdb";
    parent.querySelector(".error1").innerHTML = "";
    isValid = true;
  }


});

return isValid;


}


    form.addEventListener("submit", (e) => {

e.preventDefault();
if (validate()) {
  if (dayIn.value > Rday) {

    Rday = Rday + months[ Rmonth- 1];
    Rmonth = Rmonth - 1;

  }

  if (monthIn.value > Rmonth) {

    Rmonth = Rmonth + 12;
    Ryear = Ryear - 1;

  }

  const d = Rday - dayIn.value;
  const m = Rmonth - monthIn.value;
  const y = Ryear - yearIn.value;

  dayOt.innerHTML = d;
  monthOt.innerHTML = m;
  yearOt.innerHTML = y;

}


///Must be a valid day

});





  </script>


</body>

</html>